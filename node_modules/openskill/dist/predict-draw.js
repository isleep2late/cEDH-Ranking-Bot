// src/predict-draw.ts
import { flatten, sum as sum2, map, addIndex, reduce, head } from "ramda";

// src/constants.ts
var builder = (options) => {
  const { z = 3, mu = 25, preventSigmaIncrease = false, epsilon = 1e-4 } = options;
  const { tau = mu / 300, sigma = mu / z, beta = sigma / 2, limitSigma = preventSigmaIncrease } = options;
  const betaSq = beta ** 2;
  return {
    SIGMA: sigma,
    MU: mu,
    EPSILON: epsilon,
    TWOBETASQ: 2 * betaSq,
    BETA: beta,
    BETASQ: betaSq,
    Z: z,
    TAU: tau,
    LIMIT_SIGMA: limitSigma
  };
};
var constants_default = builder;

// src/util.ts
import { zip } from "ramda";
var sum = (a, b) => a + b;
var rankings = (teams, rank = []) => {
  const teamScores = teams.map((_, i) => rank[i] || i);
  const outRank = new Array(teams.length);
  let s = 0;
  for (let j = 0; j < teamScores.length; j += 1) {
    if (j > 0 && teamScores[j - 1] < teamScores[j]) {
      s = j;
    }
    outRank[j] = s;
  }
  return outRank;
};
var teamRating = (options) => (game) => {
  const rank = rankings(game, options.rank);
  return game.map((team, i) => [
    // mu[i]
    team.map(({ mu }) => mu).reduce(sum, 0),
    // sigma^2[i]
    team.map(({ sigma }) => sigma * sigma).reduce(sum, 0),
    // (original team data)
    team,
    // rank[i]
    rank[i]
  ]);
};
var utilC = (options) => {
  const { BETASQ } = constants_default(options);
  return (teamRatings) => Math.sqrt(teamRatings.map(([_teamMu, teamSigmaSq, _team, _rank]) => teamSigmaSq + BETASQ).reduce(sum, 0));
};
var gamma = (options) => {
  var _a;
  return (_a = options.gamma) != null ? _a : (
    // default to iSigma / c
    (c, _k, _mu, sigmaSq, _team, _qRank) => Math.sqrt(sigmaSq) / c
  );
};
var util_default = (options) => ({
  utilC: utilC(options),
  teamRating: teamRating(options),
  gamma: gamma(options)
});

// src/statistics.ts
import gaussian from "gaussian";
var normal = gaussian(0, 1);
var phiMajor = (x) => normal.cdf(x);
var phiMajorInverse = (x) => normal.ppf(x);

// src/predict-draw.ts
var predictDraw = (teams, options = {}) => {
  const { teamRating: teamRating2 } = util_default(options);
  const { BETASQ, BETA } = constants_default(options);
  const totalPlayerCount = flatten(teams).length;
  const drawProbability = 1 / totalPlayerCount;
  const drawMargin = Math.sqrt(totalPlayerCount) * BETA * phiMajorInverse((1 + drawProbability) / 2);
  const teamRatings = map((team) => head(teamRating2([team])), teams);
  const pairwiseProbs = addIndex(reduce)(
    (outerAccum, pairA, i) => {
      const [muA, sigmaSqA] = pairA;
      return reduce(
        (innerAccum, pairB) => {
          const [muB, sigmaSqB] = pairB;
          const sharedDenom = Math.sqrt(totalPlayerCount * BETASQ + sigmaSqA + sigmaSqB);
          innerAccum.push(
            phiMajor((drawMargin - muA + muB) / sharedDenom) - phiMajor((muB - muA - drawMargin) / sharedDenom)
          );
          return innerAccum;
        },
        outerAccum,
        teamRatings.slice(i + 1)
      );
    },
    [],
    teamRatings
  );
  return sum2(pairwiseProbs) / pairwiseProbs.length;
};
var predict_draw_default = predictDraw;
export {
  predict_draw_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL3ByZWRpY3QtZHJhdy50cyIsICIuLi9zcmMvY29uc3RhbnRzLnRzIiwgIi4uL3NyYy91dGlsLnRzIiwgIi4uL3NyYy9zdGF0aXN0aWNzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBmbGF0dGVuLCBzdW0sIG1hcCwgYWRkSW5kZXgsIHJlZHVjZSwgaGVhZCB9IGZyb20gJ3JhbWRhJ1xuaW1wb3J0IGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cydcbmltcG9ydCB1dGlsLCB7IFRlYW1SYXRpbmcgfSBmcm9tICcuL3V0aWwnXG5pbXBvcnQgeyBwaGlNYWpvciwgcGhpTWFqb3JJbnZlcnNlIH0gZnJvbSAnLi9zdGF0aXN0aWNzJ1xuaW1wb3J0IHsgT3B0aW9ucywgVGVhbSB9IGZyb20gJy4vdHlwZXMnXG5cbmNvbnN0IHByZWRpY3REcmF3ID0gKHRlYW1zOiBUZWFtW10sIG9wdGlvbnM6IE9wdGlvbnMgPSB7fSk6IG51bWJlciA9PiB7XG4gIGNvbnN0IHsgdGVhbVJhdGluZyB9ID0gdXRpbChvcHRpb25zKVxuICBjb25zdCB7IEJFVEFTUSwgQkVUQSB9ID0gY29uc3RhbnRzKG9wdGlvbnMpXG5cbiAgY29uc3QgdG90YWxQbGF5ZXJDb3VudCA9IGZsYXR0ZW4odGVhbXMpLmxlbmd0aFxuICBjb25zdCBkcmF3UHJvYmFiaWxpdHkgPSAxIC8gdG90YWxQbGF5ZXJDb3VudFxuICBjb25zdCBkcmF3TWFyZ2luID0gTWF0aC5zcXJ0KHRvdGFsUGxheWVyQ291bnQpICogQkVUQSAqIHBoaU1ham9ySW52ZXJzZSgoMSArIGRyYXdQcm9iYWJpbGl0eSkgLyAyKVxuXG4gIGNvbnN0IHRlYW1SYXRpbmdzID0gbWFwPFRlYW0sIFRlYW1SYXRpbmc+KCh0ZWFtKSA9PiBoZWFkPFRlYW1SYXRpbmc+KHRlYW1SYXRpbmcoW3RlYW1dKSkhLCB0ZWFtcylcblxuICBjb25zdCBwYWlyd2lzZVByb2JzOiBudW1iZXJbXSA9IGFkZEluZGV4PFRlYW1SYXRpbmcsIG51bWJlcltdPihyZWR1Y2U8VGVhbVJhdGluZywgbnVtYmVyW10+KShcbiAgICAob3V0ZXJBY2N1bTogbnVtYmVyW10sIHBhaXJBOiBUZWFtUmF0aW5nLCBpOiBudW1iZXIpOiBudW1iZXJbXSA9PiB7XG4gICAgICBjb25zdCBbbXVBLCBzaWdtYVNxQV0gPSBwYWlyQVxuICAgICAgcmV0dXJuIHJlZHVjZTxUZWFtUmF0aW5nLCBudW1iZXJbXT4oXG4gICAgICAgIChpbm5lckFjY3VtOiBudW1iZXJbXSwgcGFpckI6IFRlYW1SYXRpbmcpOiBudW1iZXJbXSA9PiB7XG4gICAgICAgICAgY29uc3QgW211Qiwgc2lnbWFTcUJdID0gcGFpckJcbiAgICAgICAgICBjb25zdCBzaGFyZWREZW5vbSA9IE1hdGguc3FydCh0b3RhbFBsYXllckNvdW50ICogQkVUQVNRICsgc2lnbWFTcUEgKyBzaWdtYVNxQilcbiAgICAgICAgICBpbm5lckFjY3VtLnB1c2goXG4gICAgICAgICAgICBwaGlNYWpvcigoZHJhd01hcmdpbiAtIG11QSArIG11QikgLyBzaGFyZWREZW5vbSkgLSBwaGlNYWpvcigobXVCIC0gbXVBIC0gZHJhd01hcmdpbikgLyBzaGFyZWREZW5vbSlcbiAgICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIGlubmVyQWNjdW1cbiAgICAgICAgfSxcbiAgICAgICAgb3V0ZXJBY2N1bSxcbiAgICAgICAgdGVhbVJhdGluZ3Muc2xpY2UoaSArIDEpXG4gICAgICApXG4gICAgfSxcbiAgICBbXSxcbiAgICB0ZWFtUmF0aW5nc1xuICApXG5cbiAgcmV0dXJuIHN1bShwYWlyd2lzZVByb2JzKSAvIHBhaXJ3aXNlUHJvYnMubGVuZ3RoXG59XG5cbmV4cG9ydCBkZWZhdWx0IHByZWRpY3REcmF3XG4iLCAiaW1wb3J0IHsgT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnXG5cbmNvbnN0IGJ1aWxkZXIgPSAob3B0aW9uczogT3B0aW9ucykgPT4ge1xuICAvLyBpJ2QgbG92ZSB0byBrbm93IG9mIGEgYmV0dGVyIHdheSB0byBkbyB0aGlzXG4gIGNvbnN0IHsgeiA9IDMsIG11ID0gMjUsIHByZXZlbnRTaWdtYUluY3JlYXNlID0gZmFsc2UsIGVwc2lsb24gPSAwLjAwMDEgfSA9IG9wdGlvbnNcbiAgY29uc3QgeyB0YXUgPSBtdSAvIDMwMCwgc2lnbWEgPSBtdSAvIHosIGJldGEgPSBzaWdtYSAvIDIsIGxpbWl0U2lnbWEgPSBwcmV2ZW50U2lnbWFJbmNyZWFzZSB9ID0gb3B0aW9uc1xuICBjb25zdCBiZXRhU3EgPSBiZXRhICoqIDJcblxuICByZXR1cm4ge1xuICAgIFNJR01BOiBzaWdtYSxcbiAgICBNVTogbXUsXG4gICAgRVBTSUxPTjogZXBzaWxvbixcbiAgICBUV09CRVRBU1E6IDIgKiBiZXRhU3EsXG4gICAgQkVUQTogYmV0YSxcbiAgICBCRVRBU1E6IGJldGFTcSxcbiAgICBaOiB6LFxuICAgIFRBVTogdGF1LFxuICAgIExJTUlUX1NJR01BOiBsaW1pdFNpZ21hLFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJ1aWxkZXJcbiIsICJpbXBvcnQgeyB6aXAgfSBmcm9tICdyYW1kYSdcbmltcG9ydCBjb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnXG5pbXBvcnQgeyBSYXRpbmcsIE9wdGlvbnMsIEdhbW1hLCBUZWFtLCBSYW5rIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IHR5cGUgVGVhbU11ID0gbnVtYmVyXG5cbmV4cG9ydCB0eXBlIFRlYW1TaWdtYVNxID0gbnVtYmVyXG5cbmV4cG9ydCB0eXBlIFRlYW1SYXRpbmcgPSBbVGVhbU11LCBUZWFtU2lnbWFTcSwgVGVhbSwgUmFua11cblxuZXhwb3J0IGNvbnN0IHN1bSA9IChhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gYSArIGJcblxuZXhwb3J0IGNvbnN0IHNjb3JlID0gKHE6IG51bWJlciwgaTogbnVtYmVyKSA9PiB7XG4gIGlmIChxIDwgaSkge1xuICAgIHJldHVybiAwLjBcbiAgfVxuICBpZiAocSA+IGkpIHtcbiAgICByZXR1cm4gMS4wXG4gIH1cbiAgLy8gcSA9PT0gaVxuICByZXR1cm4gMC41XG59XG5cbmV4cG9ydCBjb25zdCByYW5raW5ncyA9ICh0ZWFtczogVGVhbVtdLCByYW5rOiBudW1iZXJbXSA9IFtdKSA9PiB7XG4gIGNvbnN0IHRlYW1TY29yZXMgPSB0ZWFtcy5tYXAoKF8sIGkpID0+IHJhbmtbaV0gfHwgaSlcbiAgY29uc3Qgb3V0UmFuayA9IG5ldyBBcnJheSh0ZWFtcy5sZW5ndGgpXG5cbiAgbGV0IHMgPSAwXG4gIGZvciAobGV0IGogPSAwOyBqIDwgdGVhbVNjb3Jlcy5sZW5ndGg7IGogKz0gMSkge1xuICAgIGlmIChqID4gMCAmJiB0ZWFtU2NvcmVzW2ogLSAxXSA8IHRlYW1TY29yZXNbal0pIHtcbiAgICAgIHMgPSBqXG4gICAgfVxuICAgIG91dFJhbmtbal0gPSBzXG4gIH1cbiAgcmV0dXJuIG91dFJhbmtcbn1cblxuLy8gdGhpcyBpcyBiYXNpY2FsbHkgc2hhcmVkIGNvZGUsIHByZWNvbXB1dGVkIGZvciBldmVyeSBtb2RlbFxuY29uc3QgdGVhbVJhdGluZyA9XG4gIChvcHRpb25zOiBPcHRpb25zKSA9PlxuICAoZ2FtZTogVGVhbVtdKTogVGVhbVJhdGluZ1tdID0+IHtcbiAgICBjb25zdCByYW5rID0gcmFua2luZ3MoZ2FtZSwgb3B0aW9ucy5yYW5rKVxuICAgIHJldHVybiBnYW1lLm1hcCgodGVhbSwgaSkgPT4gW1xuICAgICAgLy8gbXVbaV1cbiAgICAgIHRlYW0ubWFwKCh7IG11IH0pID0+IG11KS5yZWR1Y2Uoc3VtLCAwKSxcbiAgICAgIC8vIHNpZ21hXjJbaV1cbiAgICAgIHRlYW0ubWFwKCh7IHNpZ21hIH0pID0+IHNpZ21hICogc2lnbWEpLnJlZHVjZShzdW0sIDApLFxuICAgICAgLy8gKG9yaWdpbmFsIHRlYW0gZGF0YSlcbiAgICAgIHRlYW0sXG4gICAgICAvLyByYW5rW2ldXG4gICAgICByYW5rW2ldLFxuICAgIF0pXG4gIH1cblxuZXhwb3J0IGNvbnN0IGxhZGRlclBhaXJzID0gPFQ+KHJhbmtzOiBUW10pOiBUW11bXSA9PiB7XG4gIGNvbnN0IHNpemUgPSByYW5rcy5sZW5ndGhcbiAgY29uc3QgbGVmdCA9IFt1bmRlZmluZWQsIC4uLnJhbmtzLnNsaWNlKDAsIHNpemUgLSAxKV1cbiAgY29uc3QgcmlnaHQgPSBbLi4ucmFua3Muc2xpY2UoMSksIHVuZGVmaW5lZF1cbiAgcmV0dXJuIHppcChsZWZ0LCByaWdodCkubWFwKChbbCwgcl0pID0+IHtcbiAgICBpZiAobCAhPT0gdW5kZWZpbmVkICYmIHIgIT09IHVuZGVmaW5lZCkgcmV0dXJuIFtsLCByXVxuICAgIGlmIChsICE9PSB1bmRlZmluZWQgJiYgciA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW2xdXG4gICAgaWYgKGwgPT09IHVuZGVmaW5lZCAmJiByICE9PSB1bmRlZmluZWQpIHJldHVybiBbcl1cbiAgICByZXR1cm4gW10gLy8gdGhpcyBzaG91bGQgcmVhbGx5IG9ubHkgaGFwcGVuIHdoZW4gc2l6ZSA9PT0gMVxuICB9KVxufVxuXG5jb25zdCB1dGlsQyA9IChvcHRpb25zOiBPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHsgQkVUQVNRIH0gPSBjb25zdGFudHMob3B0aW9ucylcbiAgcmV0dXJuICh0ZWFtUmF0aW5nczogVGVhbVJhdGluZ1tdKSA9PlxuICAgIE1hdGguc3FydCh0ZWFtUmF0aW5ncy5tYXAoKFtfdGVhbU11LCB0ZWFtU2lnbWFTcSwgX3RlYW0sIF9yYW5rXSkgPT4gdGVhbVNpZ21hU3EgKyBCRVRBU1EpLnJlZHVjZShzdW0sIDApKVxufVxuXG5leHBvcnQgY29uc3QgdXRpbFN1bVEgPSAodGVhbVJhdGluZ3M6IFRlYW1SYXRpbmdbXSwgYzogbnVtYmVyKSA9PlxuICB0ZWFtUmF0aW5ncy5tYXAoKFtfcU11LCBfcVNpZ21hU3EsIF9xVGVhbSwgcVJhbmtdKSA9PlxuICAgIHRlYW1SYXRpbmdzXG4gICAgICAuZmlsdGVyKChbX2lNdSwgX2lTaWdtYVNxLCBfaVRlYW0sIGlSYW5rXSkgPT4gaVJhbmsgPj0gcVJhbmspXG4gICAgICAubWFwKChbaU11LCBfaVNpZ21hU3EsIF9pVGVhbSwgX2lSYW5rXSkgPT4gTWF0aC5leHAoaU11IC8gYykpXG4gICAgICAucmVkdWNlKHN1bSwgMClcbiAgKVxuXG5leHBvcnQgY29uc3QgdXRpbEEgPSAodGVhbVJhdGluZ3M6IFRlYW1SYXRpbmdbXSkgPT5cbiAgdGVhbVJhdGluZ3MubWFwKFxuICAgIChbX2lNdSwgX2lTaWdtYVNxLCBfaVRlYW0sIGlSYW5rXSkgPT5cbiAgICAgIHRlYW1SYXRpbmdzLmZpbHRlcigoW19xTXUsIF9xU2lnbWFTcSwgX3FUZWFtLCBxUmFua10pID0+IGlSYW5rID09PSBxUmFuaykubGVuZ3RoXG4gIClcblxuZXhwb3J0IGNvbnN0IGdhbW1hID0gKG9wdGlvbnM6IE9wdGlvbnMpOiBHYW1tYSA9PlxuICBvcHRpb25zLmdhbW1hID8/XG4gIC8vIGRlZmF1bHQgdG8gaVNpZ21hIC8gY1xuICAoKGM6IG51bWJlciwgX2s6IG51bWJlciwgX211OiBudW1iZXIsIHNpZ21hU3E6IG51bWJlciwgX3RlYW06IFJhdGluZ1tdLCBfcVJhbms6IG51bWJlcikgPT4gTWF0aC5zcXJ0KHNpZ21hU3EpIC8gYylcblxuZXhwb3J0IGRlZmF1bHQgKG9wdGlvbnM6IE9wdGlvbnMpID0+ICh7XG4gIHV0aWxDOiB1dGlsQyhvcHRpb25zKSxcbiAgdGVhbVJhdGluZzogdGVhbVJhdGluZyhvcHRpb25zKSxcbiAgZ2FtbWE6IGdhbW1hKG9wdGlvbnMpLFxufSlcbiIsICJpbXBvcnQgZ2F1c3NpYW4gZnJvbSAnZ2F1c3NpYW4nXG5cbi8vIHVzZSBhIHN0YW5kYXJkIG5vcm1hbCBkaXN0cmlidXRpb24gLSBtZWFuIG9mIHplcm8sIHN0ZGRldi92YXJpYW5jZSBvZiBvbmVcbmNvbnN0IG5vcm1hbCA9IGdhdXNzaWFuKDAsIDEpXG5cbmV4cG9ydCBjb25zdCBwaGlNYWpvciA9ICh4OiBudW1iZXIpID0+IG5vcm1hbC5jZGYoeClcblxuZXhwb3J0IGNvbnN0IHBoaU1ham9ySW52ZXJzZSA9ICh4OiBudW1iZXIpID0+IG5vcm1hbC5wcGYoeClcblxuZXhwb3J0IGNvbnN0IHBoaU1pbm9yID0gKHg6IG51bWJlcikgPT4gbm9ybWFsLnBkZih4KVxuXG5leHBvcnQgY29uc3QgdiA9ICh4OiBudW1iZXIsIHQ6IG51bWJlcikgPT4ge1xuICBjb25zdCB4dCA9IHggLSB0XG4gIGNvbnN0IGRlbm9tID0gcGhpTWFqb3IoeHQpXG4gIHJldHVybiBkZW5vbSA8IE51bWJlci5FUFNJTE9OID8gLXh0IDogcGhpTWlub3IoeHQpIC8gZGVub21cbn1cblxuZXhwb3J0IGNvbnN0IHcgPSAoeDogbnVtYmVyLCB0OiBudW1iZXIpID0+IHtcbiAgY29uc3QgeHQgPSB4IC0gdFxuICBjb25zdCBkZW5vbSA9IHBoaU1ham9yKHh0KVxuICBpZiAoZGVub20gPCBOdW1iZXIuRVBTSUxPTikge1xuICAgIHJldHVybiB4IDwgMCA/IDEgOiAwXG4gIH1cbiAgcmV0dXJuIHYoeCwgdCkgKiAodih4LCB0KSArIHh0KVxufVxuXG5leHBvcnQgY29uc3QgdnQgPSAoeDogbnVtYmVyLCB0OiBudW1iZXIpID0+IHtcbiAgY29uc3QgeHggPSBNYXRoLmFicyh4KVxuICBjb25zdCBiID0gcGhpTWFqb3IodCAtIHh4KSAtIHBoaU1ham9yKC10IC0geHgpXG4gIGlmIChiIDwgMWUtNSkge1xuICAgIGlmICh4IDwgMCkgcmV0dXJuIC14IC0gdFxuICAgIHJldHVybiAteCArIHRcbiAgfVxuICBjb25zdCBhID0gcGhpTWlub3IoLXQgLSB4eCkgLSBwaGlNaW5vcih0IC0geHgpXG4gIHJldHVybiAoeCA8IDAgPyAtYSA6IGEpIC8gYlxufVxuXG5leHBvcnQgY29uc3Qgd3QgPSAoeDogbnVtYmVyLCB0OiBudW1iZXIpID0+IHtcbiAgY29uc3QgeHggPSBNYXRoLmFicyh4KVxuICBjb25zdCBiID0gcGhpTWFqb3IodCAtIHh4KSAtIHBoaU1ham9yKC10IC0geHgpXG4gIHJldHVybiBiIDwgTnVtYmVyLkVQU0lMT05cbiAgICA/IDEuMFxuICAgIDogKCh0IC0geHgpICogcGhpTWlub3IodCAtIHh4KSArICh0ICsgeHgpICogcGhpTWlub3IoLXQgLSB4eCkpIC8gYiArIHZ0KHgsIHQpICogdnQoeCwgdClcbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7QUFBQSxTQUFTLFNBQVMsT0FBQUEsTUFBSyxLQUFLLFVBQVUsUUFBUSxZQUFZOzs7QUNFMUQsSUFBTSxVQUFVLENBQUMsWUFBcUI7QUFFcEMsUUFBTSxFQUFFLElBQUksR0FBRyxLQUFLLElBQUksdUJBQXVCLE9BQU8sVUFBVSxLQUFPLElBQUk7QUFDM0UsUUFBTSxFQUFFLE1BQU0sS0FBSyxLQUFLLFFBQVEsS0FBSyxHQUFHLE9BQU8sUUFBUSxHQUFHLGFBQWEscUJBQXFCLElBQUk7QUFDaEcsUUFBTSxTQUFTLFFBQVE7QUFFdkIsU0FBTztBQUFBLElBQ0wsT0FBTztBQUFBLElBQ1AsSUFBSTtBQUFBLElBQ0osU0FBUztBQUFBLElBQ1QsV0FBVyxJQUFJO0FBQUEsSUFDZixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixHQUFHO0FBQUEsSUFDSCxLQUFLO0FBQUEsSUFDTCxhQUFhO0FBQUEsRUFDZjtBQUNGO0FBRUEsSUFBTyxvQkFBUTs7O0FDckJmLFNBQVMsV0FBVztBQVViLElBQU0sTUFBTSxDQUFDLEdBQVcsTUFBYyxJQUFJO0FBYTFDLElBQU0sV0FBVyxDQUFDLE9BQWUsT0FBaUIsQ0FBQyxNQUFNO0FBQzlELFFBQU0sYUFBYSxNQUFNLElBQUksQ0FBQyxHQUFHLE1BQU0sS0FBSyxDQUFDLEtBQUssQ0FBQztBQUNuRCxRQUFNLFVBQVUsSUFBSSxNQUFNLE1BQU0sTUFBTTtBQUV0QyxNQUFJLElBQUk7QUFDUixXQUFTLElBQUksR0FBRyxJQUFJLFdBQVcsUUFBUSxLQUFLLEdBQUc7QUFDN0MsUUFBSSxJQUFJLEtBQUssV0FBVyxJQUFJLENBQUMsSUFBSSxXQUFXLENBQUMsR0FBRztBQUM5QyxVQUFJO0FBQUEsSUFDTjtBQUNBLFlBQVEsQ0FBQyxJQUFJO0FBQUEsRUFDZjtBQUNBLFNBQU87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