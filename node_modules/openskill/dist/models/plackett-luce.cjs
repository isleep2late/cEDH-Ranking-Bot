"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/models/plackett-luce.ts
var plackett_luce_exports = {};
__export(plackett_luce_exports, {
  default: () => plackett_luce_default
});
module.exports = __toCommonJS(plackett_luce_exports);

// src/util.ts
var import_ramda = require("ramda");

// src/constants.ts
var builder = (options) => {
  const { z = 3, mu = 25, preventSigmaIncrease = false, epsilon = 1e-4 } = options;
  const { tau = mu / 300, sigma = mu / z, beta = sigma / 2, limitSigma = preventSigmaIncrease } = options;
  const betaSq = beta ** 2;
  return {
    SIGMA: sigma,
    MU: mu,
    EPSILON: epsilon,
    TWOBETASQ: 2 * betaSq,
    BETA: beta,
    BETASQ: betaSq,
    Z: z,
    TAU: tau,
    LIMIT_SIGMA: limitSigma
  };
};
var constants_default = builder;

// src/util.ts
var sum = (a, b) => a + b;
var rankings = (teams, rank = []) => {
  const teamScores = teams.map((_, i) => rank[i] || i);
  const outRank = new Array(teams.length);
  let s = 0;
  for (let j = 0; j < teamScores.length; j += 1) {
    if (j > 0 && teamScores[j - 1] < teamScores[j]) {
      s = j;
    }
    outRank[j] = s;
  }
  return outRank;
};
var teamRating = (options) => (game) => {
  const rank = rankings(game, options.rank);
  return game.map((team, i) => [
    // mu[i]
    team.map(({ mu }) => mu).reduce(sum, 0),
    // sigma^2[i]
    team.map(({ sigma }) => sigma * sigma).reduce(sum, 0),
    // (original team data)
    team,
    // rank[i]
    rank[i]
  ]);
};
var utilC = (options) => {
  const { BETASQ } = constants_default(options);
  return (teamRatings) => Math.sqrt(teamRatings.map(([_teamMu, teamSigmaSq, _team, _rank]) => teamSigmaSq + BETASQ).reduce(sum, 0));
};
var utilSumQ = (teamRatings, c) => teamRatings.map(
  ([_qMu, _qSigmaSq, _qTeam, qRank]) => teamRatings.filter(([_iMu, _iSigmaSq, _iTeam, iRank]) => iRank >= qRank).map(([iMu, _iSigmaSq, _iTeam, _iRank]) => Math.exp(iMu / c)).reduce(sum, 0)
);
var utilA = (teamRatings) => teamRatings.map(
  ([_iMu, _iSigmaSq, _iTeam, iRank]) => teamRatings.filter(([_qMu, _qSigmaSq, _qTeam, qRank]) => iRank === qRank).length
);
var gamma = (options) => {
  var _a;
  return (_a = options.gamma) != null ? _a : (
    // default to iSigma / c
    (c, _k, _mu, sigmaSq, _team, _qRank) => Math.sqrt(sigmaSq) / c
  );
};
var util_default = (options) => ({
  utilC: utilC(options),
  teamRating: teamRating(options),
  gamma: gamma(options)
});

// src/models/plackett-luce.ts
var model = (game, options = {}) => {
  const { EPSILON } = constants_default(options);
  const { utilC: utilC2, teamRating: teamRating2, gamma: gamma2 } = util_default(options);
  const teamRatings = teamRating2(game);
  const c = utilC2(teamRatings);
  const sumQ = utilSumQ(teamRatings, c);
  const a = utilA(teamRatings);
  return teamRatings.map((iTeamRating, i) => {
    const [iMu, iSigmaSq, iTeam, iRank] = iTeamRating;
    const iMuOverCe = Math.exp(iMu / c);
    const [omegaSum, deltaSum] = teamRatings.filter(([_qMu, _qSigmaSq, _qTeam, qRank]) => qRank <= iRank).reduce(
      ([omega, delta], [_], q) => {
        const quotient = iMuOverCe / sumQ[q];
        return [omega + (i === q ? 1 - quotient : -quotient) / a[q], delta + quotient * (1 - quotient) / a[q]];
      },
      [0, 0]
    );
    const iGamma = gamma2(c, teamRatings.length, ...iTeamRating);
    const iOmega = omegaSum * (iSigmaSq / c);
    const iDelta = iGamma * deltaSum * (iSigmaSq / c ** 2);
    return iTeam.map(({ mu, sigma }) => ({
      mu: mu + sigma ** 2 / iSigmaSq * iOmega,
      sigma: sigma * Math.sqrt(Math.max(1 - sigma ** 2 / iSigmaSq * iDelta, EPSILON))
    }));
  });
};
var plackett_luce_default = model;
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL21vZGVscy9wbGFja2V0dC1sdWNlLnRzIiwgIi4uLy4uL3NyYy91dGlsLnRzIiwgIi4uLy4uL3NyYy9jb25zdGFudHMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB1dGlsLCB7IHV0aWxTdW1RLCB1dGlsQSB9IGZyb20gJy4uL3V0aWwnXG5pbXBvcnQgY29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cydcbmltcG9ydCB7IFJhdGluZywgT3B0aW9ucywgTW9kZWwgfSBmcm9tICcuLi90eXBlcydcblxuY29uc3QgbW9kZWw6IE1vZGVsID0gKGdhbWU6IFJhdGluZ1tdW10sIG9wdGlvbnM6IE9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCB7IEVQU0lMT04gfSA9IGNvbnN0YW50cyhvcHRpb25zKVxuICBjb25zdCB7IHV0aWxDLCB0ZWFtUmF0aW5nLCBnYW1tYSB9ID0gdXRpbChvcHRpb25zKVxuICBjb25zdCB0ZWFtUmF0aW5ncyA9IHRlYW1SYXRpbmcoZ2FtZSlcbiAgY29uc3QgYyA9IHV0aWxDKHRlYW1SYXRpbmdzKVxuICBjb25zdCBzdW1RID0gdXRpbFN1bVEodGVhbVJhdGluZ3MsIGMpXG4gIGNvbnN0IGEgPSB1dGlsQSh0ZWFtUmF0aW5ncylcblxuICByZXR1cm4gdGVhbVJhdGluZ3MubWFwKChpVGVhbVJhdGluZywgaSkgPT4ge1xuICAgIGNvbnN0IFtpTXUsIGlTaWdtYVNxLCBpVGVhbSwgaVJhbmtdID0gaVRlYW1SYXRpbmdcbiAgICBjb25zdCBpTXVPdmVyQ2UgPSBNYXRoLmV4cChpTXUgLyBjKSAvLyB0bXAxXG4gICAgY29uc3QgW29tZWdhU3VtLCBkZWx0YVN1bV0gPSB0ZWFtUmF0aW5nc1xuICAgICAgLmZpbHRlcigoW19xTXUsIF9xU2lnbWFTcSwgX3FUZWFtLCBxUmFua10pID0+IHFSYW5rIDw9IGlSYW5rKVxuICAgICAgLnJlZHVjZShcbiAgICAgICAgKFtvbWVnYSwgZGVsdGFdLCBbX10sIHEpID0+IHtcbiAgICAgICAgICBjb25zdCBxdW90aWVudCA9IGlNdU92ZXJDZSAvIHN1bVFbcV1cbiAgICAgICAgICByZXR1cm4gW29tZWdhICsgKGkgPT09IHEgPyAxIC0gcXVvdGllbnQgOiAtcXVvdGllbnQpIC8gYVtxXSwgZGVsdGEgKyAocXVvdGllbnQgKiAoMSAtIHF1b3RpZW50KSkgLyBhW3FdXVxuICAgICAgICB9LFxuICAgICAgICBbMCwgMF1cbiAgICAgIClcblxuICAgIGNvbnN0IGlHYW1tYSA9IGdhbW1hKGMsIHRlYW1SYXRpbmdzLmxlbmd0aCwgLi4uaVRlYW1SYXRpbmcpXG4gICAgY29uc3QgaU9tZWdhID0gb21lZ2FTdW0gKiAoaVNpZ21hU3EgLyBjKVxuICAgIGNvbnN0IGlEZWx0YSA9IGlHYW1tYSAqIGRlbHRhU3VtICogKGlTaWdtYVNxIC8gYyAqKiAyKVxuXG4gICAgcmV0dXJuIGlUZWFtLm1hcCgoeyBtdSwgc2lnbWEgfSkgPT4gKHtcbiAgICAgIG11OiBtdSArIChzaWdtYSAqKiAyIC8gaVNpZ21hU3EpICogaU9tZWdhLFxuICAgICAgc2lnbWE6IHNpZ21hICogTWF0aC5zcXJ0KE1hdGgubWF4KDEgLSAoc2lnbWEgKiogMiAvIGlTaWdtYVNxKSAqIGlEZWx0YSwgRVBTSUxPTikpLFxuICAgIH0pKVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBtb2RlbFxuIiwgImltcG9ydCB7IHppcCB9IGZyb20gJ3JhbWRhJ1xuaW1wb3J0IGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cydcbmltcG9ydCB7IFJhdGluZywgT3B0aW9ucywgR2FtbWEsIFRlYW0sIFJhbmsgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgdHlwZSBUZWFtTXUgPSBudW1iZXJcblxuZXhwb3J0IHR5cGUgVGVhbVNpZ21hU3EgPSBudW1iZXJcblxuZXhwb3J0IHR5cGUgVGVhbVJhdGluZyA9IFtUZWFtTXUsIFRlYW1TaWdtYVNxLCBUZWFtLCBSYW5rXVxuXG5leHBvcnQgY29uc3Qgc3VtID0gKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiBhICsgYlxuXG5leHBvcnQgY29uc3Qgc2NvcmUgPSAocTogbnVtYmVyLCBpOiBudW1iZXIpID0+IHtcbiAgaWYgKHEgPCBpKSB7XG4gICAgcmV0dXJuIDAuMFxuICB9XG4gIGlmIChxID4gaSkge1xuICAgIHJldHVybiAxLjBcbiAgfVxuICAvLyBxID09PSBpXG4gIHJldHVybiAwLjVcbn1cblxuZXhwb3J0IGNvbnN0IHJhbmtpbmdzID0gKHRlYW1zOiBUZWFtW10sIHJhbms6IG51bWJlcltdID0gW10pID0+IHtcbiAgY29uc3QgdGVhbVNjb3JlcyA9IHRlYW1zLm1hcCgoXywgaSkgPT4gcmFua1tpXSB8fCBpKVxuICBjb25zdCBvdXRSYW5rID0gbmV3IEFycmF5KHRlYW1zLmxlbmd0aClcblxuICBsZXQgcyA9IDBcbiAgZm9yIChsZXQgaiA9IDA7IGogPCB0ZWFtU2NvcmVzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgaWYgKGogPiAwICYmIHRlYW1TY29yZXNbaiAtIDFdIDwgdGVhbVNjb3Jlc1tqXSkge1xuICAgICAgcyA9IGpcbiAgICB9XG4gICAgb3V0UmFua1tqXSA9IHNcbiAgfVxuICByZXR1cm4gb3V0UmFua1xufVxuXG4vLyB0aGlzIGlzIGJhc2ljYWxseSBzaGFyZWQgY29kZSwgcHJlY29tcHV0ZWQgZm9yIGV2ZXJ5IG1vZGVsXG5jb25zdCB0ZWFtUmF0aW5nID1cbiAgKG9wdGlvbnM6IE9wdGlvbnMpID0+XG4gIChnYW1lOiBUZWFtW10pOiBUZWFtUmF0aW5nW10gPT4ge1xuICAgIGNvbnN0IHJhbmsgPSByYW5raW5ncyhnYW1lLCBvcHRpb25zLnJhbmspXG4gICAgcmV0dXJuIGdhbWUubWFwKCh0ZWFtLCBpKSA9PiBbXG4gICAgICAvLyBtdVtpXVxuICAgICAgdGVhbS5tYXAoKHsgbXUgfSkgPT4gbXUpLnJlZHVjZShzdW0sIDApLFxuICAgICAgLy8gc2lnbWFeMltpXVxuICAgICAgdGVhbS5tYXAoKHsgc2lnbWEgfSkgPT4gc2lnbWEgKiBzaWdtYSkucmVkdWNlKHN1bSwgMCksXG4gICAgICAvLyAob3JpZ2luYWwgdGVhbSBkYXRhKVxuICAgICAgdGVhbSxcbiAgICAgIC8vIHJhbmtbaV1cbiAgICAgIHJhbmtbaV0sXG4gICAgXSlcbiAgfVxuXG5leHBvcnQgY29uc3QgbGFkZGVyUGFpcnMgPSA8VD4ocmFua3M6IFRbXSk6IFRbXVtdID0+IHtcbiAgY29uc3Qgc2l6ZSA9IHJhbmtzLmxlbmd0aFxuICBjb25zdCBsZWZ0ID0gW3VuZGVmaW5lZCwgLi4ucmFua3Muc2xpY2UoMCwgc2l6ZSAtIDEpXVxuICBjb25zdCByaWdodCA9IFsuLi5yYW5rcy5zbGljZSgxKSwgdW5kZWZpbmVkXVxuICByZXR1cm4gemlwKGxlZnQsIHJpZ2h0KS5tYXAoKFtsLCByXSkgPT4ge1xuICAgIGlmIChsICE9PSB1bmRlZmluZWQgJiYgciAhPT0gdW5kZWZpbmVkKSByZXR1cm4gW2wsIHJdXG4gICAgaWYgKGwgIT09IHVuZGVmaW5lZCAmJiByID09PSB1bmRlZmluZWQpIHJldHVybiBbbF1cbiAgICBpZiAobCA9PT0gdW5kZWZpbmVkICYmIHIgIT09IHVuZGVmaW5lZCkgcmV0dXJuIFtyXVxuICAgIHJldHVybiBbXSAvLyB0aGlzIHNob3VsZCByZWFsbHkgb25seSBoYXBwZW4gd2hlbiBzaXplID09PSAxXG4gIH0pXG59XG5cbmNvbnN0IHV0aWxDID0gKG9wdGlvbnM6IE9wdGlvbnMpID0+IHtcbiAgY29uc3QgeyBCRVRBU1EgfSA9IGNvbnN0YW50cyhvcHRpb25zKVxuICByZXR1cm4gKHRlYW1SYXRpbmdzOiBUZWFtUmF0aW5nW10pID0+XG4gICAgTWF0aC5zcXJ0KHRlYW1SYXRpbmdzLm1hcCgoW190ZWFtTXUsIHRlYW1TaWdtYVNxLCBfdGVhbSwgX3JhbmtdKSA9PiB0ZWFtU2lnbWFTcSArIEJFVEFTUSkucmVkdWNlKHN1bSwgMCkpXG59XG5cbmV4cG9ydCBjb25zdCB1dGlsU3VtUSA9ICh0ZWFtUmF0aW5nczogVGVhbVJhdGluZ1tdLCBjOiBudW1iZXIpID0+XG4gIHRlYW1SYXRpbmdzLm1hcCgoW19xTXUsIF9xU2lnbWFTcSwgX3FUZWFtLCBxUmFua10pID0+XG4gICAgdGVhbVJhdGluZ3NcbiAgICAgIC5maWx0ZXIoKFtfaU11LCBfaVNpZ21hU3EsIF9pVGVhbSwgaVJhbmtdKSA9PiBpUmFuayA+PSBxUmFuaylcbiAgICAgIC5tYXAoKFtpTXUsIF9pU2lnbWFTcSwgX2lUZWFtLCBfaVJhbmtdKSA9PiBNYXRoLmV4cChpTXUgLyBjKSlcbiAgICAgIC5yZWR1Y2Uoc3VtLCAwKVxuICApXG5cbmV4cG9ydCBjb25zdCB1dGlsQSA9ICh0ZWFtUmF0aW5nczogVGVhbVJhdGluZ1tdKSA9PlxuICB0ZWFtUmF0aW5ncy5tYXAoXG4gICAgKFtfaU11LCBfaVNpZ21hU3EsIF9pVGVhbSwgaVJhbmtdKSA9PlxuICAgICAgdGVhbVJhdGluZ3MuZmlsdGVyKChbX3FNdSwgX3FTaWdtYVNxLCBfcVRlYW0sIHFSYW5rXSkgPT4gaVJhbmsgPT09IHFSYW5rKS5sZW5ndGhcbiAgKVxuXG5leHBvcnQgY29uc3QgZ2FtbWEgPSAob3B0aW9uczogT3B0aW9ucyk6IEdhbW1hID0+XG4gIG9wdGlvbnMuZ2FtbWEgPz9cbiAgLy8gZGVmYXVsdCB0byBpU2lnbWEgLyBjXG4gICgoYzogbnVtYmVyLCBfazogbnVtYmVyLCBfbXU6IG51bWJlciwgc2lnbWFTcTogbnVtYmVyLCBfdGVhbTogUmF0aW5nW10sIF9xUmFuazogbnVtYmVyKSA9PiBNYXRoLnNxcnQoc2lnbWFTcSkgLyBjKVxuXG5leHBvcnQgZGVmYXVsdCAob3B0aW9uczogT3B0aW9ucykgPT4gKHtcbiAgdXRpbEM6IHV0aWxDKG9wdGlvbnMpLFxuICB0ZWFtUmF0aW5nOiB0ZWFtUmF0aW5nKG9wdGlvbnMpLFxuICBnYW1tYTogZ2FtbWEob3B0aW9ucyksXG59KVxuIiwgImltcG9ydCB7IE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJ1xuXG5jb25zdCBidWlsZGVyID0gKG9wdGlvbnM6IE9wdGlvbnMpID0+IHtcbiAgLy8gaSdkIGxvdmUgdG8ga25vdyBvZiBhIGJldHRlciB3YXkgdG8gZG8gdGhpc1xuICBjb25zdCB7IHogPSAzLCBtdSA9IDI1LCBwcmV2ZW50U2lnbWFJbmNyZWFzZSA9IGZhbHNlLCBlcHNpbG9uID0gMC4wMDAxIH0gPSBvcHRpb25zXG4gIGNvbnN0IHsgdGF1ID0gbXUgLyAzMDAsIHNpZ21hID0gbXUgLyB6LCBiZXRhID0gc2lnbWEgLyAyLCBsaW1pdFNpZ21hID0gcHJldmVudFNpZ21hSW5jcmVhc2UgfSA9IG9wdGlvbnNcbiAgY29uc3QgYmV0YVNxID0gYmV0YSAqKiAyXG5cbiAgcmV0dXJuIHtcbiAgICBTSUdNQTogc2lnbWEsXG4gICAgTVU6IG11LFxuICAgIEVQU0lMT046IGVwc2lsb24sXG4gICAgVFdPQkVUQVNROiAyICogYmV0YVNxLFxuICAgIEJFVEE6IGJldGEsXG4gICAgQkVUQVNROiBiZXRhU3EsXG4gICAgWjogeixcbiAgICBUQVU6IHRhdSxcbiAgICBMSU1JVF9TSUdNQTogbGltaXRTaWdtYSxcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBidWlsZGVyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQ0FBLG1CQUFvQjs7O0FDRXBCLElBQU0sVUFBVSxDQUFDLFlBQXFCO0FBRXBDLFFBQU0sRUFBRSxJQUFJLEdBQUcsS0FBSyxJQUFJLHVCQUF1QixPQUFPLFVBQVUsS0FBTyxJQUFJO0FBQzNFLFFBQU0sRUFBRSxNQUFNLEtBQUssS0FBSyxRQUFRLEtBQUssR0FBRyxPQUFPLFFBQVEsR0FBRyxhQUFhLHFCQUFxQixJQUFJO0FBQ2hHLFFBQU0sU0FBUyxRQUFRO0FBRXZCLFNBQU87QUFBQSxJQUNMLE9BQU87QUFBQSxJQUNQLElBQUk7QUFBQSxJQUNKLFNBQVM7QUFBQSxJQUNULFdBQVcsSUFBSTtBQUFBLElBQ2YsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsR0FBRztBQUFBLElBQ0gsS0FBSztBQUFBLElBQ0wsYUFB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