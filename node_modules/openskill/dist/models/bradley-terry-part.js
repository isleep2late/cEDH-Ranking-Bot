// src/models/bradley-terry-part.ts
import { zip as zip2 } from "ramda";

// src/util.ts
import { zip } from "ramda";

// src/constants.ts
var builder = (options) => {
  const { z = 3, mu = 25, preventSigmaIncrease = false, epsilon = 1e-4 } = options;
  const { tau = mu / 300, sigma = mu / z, beta = sigma / 2, limitSigma = preventSigmaIncrease } = options;
  const betaSq = beta ** 2;
  return {
    SIGMA: sigma,
    MU: mu,
    EPSILON: epsilon,
    TWOBETASQ: 2 * betaSq,
    BETA: beta,
    BETASQ: betaSq,
    Z: z,
    TAU: tau,
    LIMIT_SIGMA: limitSigma
  };
};
var constants_default = builder;

// src/util.ts
var sum = (a, b) => a + b;
var score = (q, i) => {
  if (q < i) {
    return 0;
  }
  if (q > i) {
    return 1;
  }
  return 0.5;
};
var rankings = (teams, rank = []) => {
  const teamScores = teams.map((_, i) => rank[i] || i);
  const outRank = new Array(teams.length);
  let s = 0;
  for (let j = 0; j < teamScores.length; j += 1) {
    if (j > 0 && teamScores[j - 1] < teamScores[j]) {
      s = j;
    }
    outRank[j] = s;
  }
  return outRank;
};
var teamRating = (options) => (game) => {
  const rank = rankings(game, options.rank);
  return game.map((team, i) => [
    // mu[i]
    team.map(({ mu }) => mu).reduce(sum, 0),
    // sigma^2[i]
    team.map(({ sigma }) => sigma * sigma).reduce(sum, 0),
    // (original team data)
    team,
    // rank[i]
    rank[i]
  ]);
};
var ladderPairs = (ranks) => {
  const size = ranks.length;
  const left = [void 0, ...ranks.slice(0, size - 1)];
  const right = [...ranks.slice(1), void 0];
  return zip(left, right).map(([l, r]) => {
    if (l !== void 0 && r !== void 0) return [l, r];
    if (l !== void 0 && r === void 0) return [l];
    if (l === void 0 && r !== void 0) return [r];
    return [];
  });
};
var utilC = (options) => {
  const { BETASQ } = constants_default(options);
  return (teamRatings) => Math.sqrt(teamRatings.map(([_teamMu, teamSigmaSq, _team, _rank]) => teamSigmaSq + BETASQ).reduce(sum, 0));
};
var gamma = (options) => {
  var _a;
  return (_a = options.gamma) != null ? _a : (
    // default to iSigma / c
    (c, _k, _mu, sigmaSq, _team, _qRank) => Math.sqrt(sigmaSq) / c
  );
};
var util_default = (options) => ({
  utilC: utilC(options),
  teamRating: teamRating(options),
  gamma: gamma(options)
});

// src/models/bradley-terry-part.ts
var model = (game, options = {}) => {
  const { TWOBETASQ, EPSILON } = constants_default(options);
  const { teamRating: teamRating2, gamma: gamma2 } = util_default(options);
  const teamRatings = teamRating2(game);
  const adjacentTeams = ladderPairs(teamRatings);
  return zip2(teamRatings, adjacentTeams).map(([iTeamRating, iAdjacents]) => {
    const [iMu, iSigmaSq, iTeam, iRank] = iTeamRating;
    const [iOmega, iDelta] = iAdjacents.reduce(
      ([omega, delta], [qMu, qSigmaSq, _qTeam, qRank]) => {
        const ciq = Math.sqrt(iSigmaSq + qSigmaSq + TWOBETASQ);
        const piq = 1 / (1 + Math.exp((qMu - iMu) / ciq));
        const sigSqToCiq = iSigmaSq / ciq;
        const iGamma = gamma2(ciq, teamRatings.length, ...iTeamRating);
        return [
          omega + sigSqToCiq * (score(qRank, iRank) - piq),
          delta + iGamma * sigSqToCiq / ciq * piq * (1 - piq)
        ];
      },
      [0, 0]
    );
    return iTeam.map(({ mu, sigma }) => {
      const sigmaSq = sigma * sigma;
      return {
        mu: mu + sigmaSq / iSigmaSq * iOmega,
        sigma: sigma * Math.sqrt(Math.max(1 - sigmaSq / iSigmaSq * iDelta, EPSILON))
      };
    });
  });
};
var bradley_terry_part_default = model;
export {
  bradley_terry_part_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL21vZGVscy9icmFkbGV5LXRlcnJ5LXBhcnQudHMiLCAiLi4vLi4vc3JjL3V0aWwudHMiLCAiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgemlwIH0gZnJvbSAncmFtZGEnXG5pbXBvcnQgdXRpbCwgeyBzY29yZSwgbGFkZGVyUGFpcnMgfSBmcm9tICcuLi91dGlsJ1xuaW1wb3J0IGNvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnXG5pbXBvcnQgeyBNb2RlbCwgUmF0aW5nIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmNvbnN0IG1vZGVsOiBNb2RlbCA9IChnYW1lOiBSYXRpbmdbXVtdLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgeyBUV09CRVRBU1EsIEVQU0lMT04gfSA9IGNvbnN0YW50cyhvcHRpb25zKVxuICBjb25zdCB7IHRlYW1SYXRpbmcsIGdhbW1hIH0gPSB1dGlsKG9wdGlvbnMpXG5cbiAgY29uc3QgdGVhbVJhdGluZ3MgPSB0ZWFtUmF0aW5nKGdhbWUpXG4gIGNvbnN0IGFkamFjZW50VGVhbXMgPSBsYWRkZXJQYWlycyh0ZWFtUmF0aW5ncylcblxuICByZXR1cm4gemlwKHRlYW1SYXRpbmdzLCBhZGphY2VudFRlYW1zKS5tYXAoKFtpVGVhbVJhdGluZywgaUFkamFjZW50c10pID0+IHtcbiAgICBjb25zdCBbaU11LCBpU2lnbWFTcSwgaVRlYW0sIGlSYW5rXSA9IGlUZWFtUmF0aW5nXG4gICAgY29uc3QgW2lPbWVnYSwgaURlbHRhXSA9IGlBZGphY2VudHMucmVkdWNlKFxuICAgICAgKFtvbWVnYSwgZGVsdGFdLCBbcU11LCBxU2lnbWFTcSwgX3FUZWFtLCBxUmFua10pID0+IHtcbiAgICAgICAgY29uc3QgY2lxID0gTWF0aC5zcXJ0KGlTaWdtYVNxICsgcVNpZ21hU3EgKyBUV09CRVRBU1EpXG4gICAgICAgIGNvbnN0IHBpcSA9IDEgLyAoMSArIE1hdGguZXhwKChxTXUgLSBpTXUpIC8gY2lxKSlcbiAgICAgICAgY29uc3Qgc2lnU3FUb0NpcSA9IGlTaWdtYVNxIC8gY2lxXG4gICAgICAgIGNvbnN0IGlHYW1tYSA9IGdhbW1hKGNpcSwgdGVhbVJhdGluZ3MubGVuZ3RoLCAuLi5pVGVhbVJhdGluZylcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIG9tZWdhICsgc2lnU3FUb0NpcSAqIChzY29yZShxUmFuaywgaVJhbmspIC0gcGlxKSxcbiAgICAgICAgICBkZWx0YSArICgoaUdhbW1hICogc2lnU3FUb0NpcSkgLyBjaXEpICogcGlxICogKDEgLSBwaXEpLFxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgWzAsIDBdXG4gICAgKVxuXG4gICAgcmV0dXJuIGlUZWFtLm1hcCgoeyBtdSwgc2lnbWEgfSkgPT4ge1xuICAgICAgY29uc3Qgc2lnbWFTcSA9IHNpZ21hICogc2lnbWFcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG11OiBtdSArIChzaWdtYVNxIC8gaVNpZ21hU3EpICogaU9tZWdhLFxuICAgICAgICBzaWdtYTogc2lnbWEgKiBNYXRoLnNxcnQoTWF0aC5tYXgoMSAtIChzaWdtYVNxIC8gaVNpZ21hU3EpICogaURlbHRhLCBFUFNJTE9OKSksXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgbW9kZWxcbiIsICJpbXBvcnQgeyB6aXAgfSBmcm9tICdyYW1kYSdcbmltcG9ydCBjb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnXG5pbXBvcnQgeyBSYXRpbmcsIE9wdGlvbnMsIEdhbW1hLCBUZWFtLCBSYW5rIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IHR5cGUgVGVhbU11ID0gbnVtYmVyXG5cbmV4cG9ydCB0eXBlIFRlYW1TaWdtYVNxID0gbnVtYmVyXG5cbmV4cG9ydCB0eXBlIFRlYW1SYXRpbmcgPSBbVGVhbU11LCBUZWFtU2lnbWFTcSwgVGVhbSwgUmFua11cblxuZXhwb3J0IGNvbnN0IHN1bSA9IChhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gYSArIGJcblxuZXhwb3J0IGNvbnN0IHNjb3JlID0gKHE6IG51bWJlciwgaTogbnVtYmVyKSA9PiB7XG4gIGlmIChxIDwgaSkge1xuICAgIHJldHVybiAwLjBcbiAgfVxuICBpZiAocSA+IGkpIHtcbiAgICByZXR1cm4gMS4wXG4gIH1cbiAgLy8gcSA9PT0gaVxuICByZXR1cm4gMC41XG59XG5cbmV4cG9ydCBjb25zdCByYW5raW5ncyA9ICh0ZWFtczogVGVhbVtdLCByYW5rOiBudW1iZXJbXSA9IFtdKSA9PiB7XG4gIGNvbnN0IHRlYW1TY29yZXMgPSB0ZWFtcy5tYXAoKF8sIGkpID0+IHJhbmtbaV0gfHwgaSlcbiAgY29uc3Qgb3V0UmFuayA9IG5ldyBBcnJheSh0ZWFtcy5sZW5ndGgpXG5cbiAgbGV0IHMgPSAwXG4gIGZvciAobGV0IGogPSAwOyBqIDwgdGVhbVNjb3Jlcy5sZW5ndGg7IGogKz0gMSkge1xuICAgIGlmIChqID4gMCAmJiB0ZWFtU2NvcmVzW2ogLSAxXSA8IHRlYW1TY29yZXNbal0pIHtcbiAgICAgIHMgPSBqXG4gICAgfVxuICAgIG91dFJhbmtbal0gPSBzXG4gIH1cbiAgcmV0dXJuIG91dFJhbmtcbn1cblxuLy8gdGhpcyBpcyBiYXNpY2FsbHkgc2hhcmVkIGNvZGUsIHByZWNvbXB1dGVkIGZvciBldmVyeSBtb2RlbFxuY29uc3QgdGVhbVJhdGluZyA9XG4gIChvcHRpb25zOiBPcHRpb25zKSA9PlxuICAoZ2FtZTogVGVhbVtdKTogVGVhbVJhdGluZ1tdID0+IHtcbiAgICBjb25zdCByYW5rID0gcmFua2luZ3MoZ2FtZSwgb3B0aW9ucy5yYW5rKVxuICAgIHJldHVybiBnYW1lLm1hcCgodGVhbSwgaSkgPT4gW1xuICAgICAgLy8gbXVbaV1cbiAgICAgIHRlYW0ubWFwKCh7IG11IH0pID0+IG11KS5yZWR1Y2Uoc3VtLCAwKSxcbiAgICAgIC8vIHNpZ21hXjJbaV1cbiAgICAgIHRlYW0ubWFwKCh7IHNpZ21hIH0pID0+IHNpZ21hICogc2lnbWEpLnJlZHVjZShzdW0sIDApLFxuICAgICAgLy8gKG9yaWdpbmFsIHRlYW0gZGF0YSlcbiAgICAgIHRlYW0sXG4gICAgICAvLyByYW5rW2ldXG4gICAgICByYW5rW2ldLFxuICAgIF0pXG4gIH1cblxuZXhwb3J0IGNvbnN0IGxhZGRlclBhaXJzID0gPFQ+KHJhbmtzOiBUW10pOiBUW11bXSA9PiB7XG4gIGNvbnN0IHNpemUgPSByYW5rcy5sZW5ndGhcbiAgY29uc3QgbGVmdCA9IFt1bmRlZmluZWQsIC4uLnJhbmtzLnNsaWNlKDAsIHNpemUgLSAxKV1cbiAgY29uc3QgcmlnaHQgPSBbLi4ucmFua3Muc2xpY2UoMSksIHVuZGVmaW5lZF1cbiAgcmV0dXJuIHppcChsZWZ0LCByaWdodCkubWFwKChbbCwgcl0pID0+IHtcbiAgICBpZiAobCAhPT0gdW5kZWZpbmVkICYmIHIgIT09IHVuZGVmaW5lZCkgcmV0dXJuIFtsLCByXVxuICAgIGlmIChsICE9PSB1bmRlZmluZWQgJiYgciA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW2xdXG4gICAgaWYgKGwgPT09IHVuZGVmaW5lZCAmJiByICE9PSB1bmRlZmluZWQpIHJldHVybiBbcl1cbiAgICByZXR1cm4gW10gLy8gdGhpcyBzaG91bGQgcmVhbGx5IG9ubHkgaGFwcGVuIHdoZW4gc2l6ZSA9PT0gMVxuICB9KVxufVxuXG5jb25zdCB1dGlsQyA9IChvcHRpb25zOiBPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHsgQkVUQVNRIH0gPSBjb25zdGFudHMob3B0aW9ucylcbiAgcmV0dXJuICh0ZWFtUmF0aW5nczogVGVhbVJhdGluZ1tdKSA9PlxuICAgIE1hdGguc3FydCh0ZWFtUmF0aW5ncy5tYXAoKFtfdGVhbU11LCB0ZWFtU2lnbWFTcSwgX3RlYW0sIF9yYW5rXSkgPT4gdGVhbVNpZ21hU3EgKyBCRVRBU1EpLnJlZHVjZShzdW0sIDApKVxufVxuXG5leHBvcnQgY29uc3QgdXRpbFN1bVEgPSAodGVhbVJhdGluZ3M6IFRlYW1SYXRpbmdbXSwgYzogbnVtYmVyKSA9PlxuICB0ZWFtUmF0aW5ncy5tYXAoKFtfcU11LCBfcVNpZ21hU3EsIF9xVGVhbSwgcVJhbmtdKSA9PlxuICAgIHRlYW1SYXRpbmdzXG4gICAgICAuZmlsdGVyKChbX2lNdSwgX2lTaWdtYVNxLCBfaVRlYW0sIGlSYW5rXSkgPT4gaVJhbmsgPj0gcVJhbmspXG4gICAgICAubWFwKChbaU11LCBfaVNpZ21hU3EsIF9pVGVhbSwgX2lSYW5rXSkgPT4gTWF0aC5leHAoaU11IC8gYykpXG4gICAgICAucmVkdWNlKHN1bSwgMClcbiAgKVxuXG5leHBvcnQgY29uc3QgdXRpbEEgPSAodGVhbVJhdGluZ3M6IFRlYW1SYXRpbmdbXSkgPT5cbiAgdGVhbVJhdGluZ3MubWFwKFxuICAgIChbX2lNdSwgX2lTaWdtYVNxLCBfaVRlYW0sIGlSYW5rXSkgPT5cbiAgICAgIHRlYW1SYXRpbmdzLmZpbHRlcigoW19xTXUsIF9xU2lnbWFTcSwgX3FUZWFtLCBxUmFua10pID0+IGlSYW5rID09PSBxUmFuaykubGVuZ3RoXG4gIClcblxuZXhwb3J0IGNvbnN0IGdhbW1hID0gKG9wdGlvbnM6IE9wdGlvbnMpOiBHYW1tYSA9PlxuICBvcHRpb25zLmdhbW1hID8/XG4gIC8vIGRlZmF1bHQgdG8gaVNpZ21hIC8gY1xuICAoKGM6IG51bWJlciwgX2s6IG51bWJlciwgX211OiBudW1iZXIsIHNpZ21hU3E6IG51bWJlciwgX3RlYW06IFJhdGluZ1tdLCBfcVJhbms6IG51bWJlcikgPT4gTWF0aC5zcXJ0KHNpZ21hU3EpIC8gYylcblxuZXhwb3J0IGRlZmF1bHQgKG9wdGlvbnM6IE9wdGlvbnMpID0+ICh7XG4gIHV0aWxDOiB1dGlsQyhvcHRpb25zKSxcbiAgdGVhbVJhdGluZzogdGVhbVJhdGluZyhvcHRpb25zKSxcbiAgZ2FtbWE6IGdhbW1hKG9wdGlvbnMpLFxufSlcbiIsICJpbXBvcnQgeyBPcHRpb25zIH0gZnJvbSAnLi90eXBlcydcblxuY29uc3QgYnVpbGRlciA9IChvcHRpb25zOiBPcHRpb25zKSA9PiB7XG4gIC8vIGknZCBsb3ZlIHRvIGtub3cgb2YgYSBiZXR0ZXIgd2F5IHRvIGRvIHRoaXNcbiAgY29uc3QgeyB6ID0gMywgbXUgPSAyNSwgcHJldmVudFNpZ21hSW5jcmVhc2UgPSBmYWxzZSwgZXBzaWxvbiA9IDAuMDAwMSB9ID0gb3B0aW9uc1xuICBjb25zdCB7IHRhdSA9IG11IC8gMzAwLCBzaWdtYSA9IG11IC8geiwgYmV0YSA9IHNpZ21hIC8gMiwgbGltaXRTaWdtYSA9IHByZXZlbnRTaWdtYUluY3JlYXNlIH0gPSBvcHRpb25zXG4gIGNvbnN0IGJldGFTcSA9IGJldGEgKiogMlxuXG4gIHJldHVybiB7XG4gICAgU0lHTUE6IHNpZ21hLFxuICAgIE1VOiBtdSxcbiAgICBFUFNJTE9OOiBlcHNpbG9uLFxuICAgIFRXT0JFVEFTUTogMiAqIGJldGFTcSxcbiAgICBCRVRBOiBiZXRhLFxuICAgIEJFVEFTUTogYmV0YVNxLFxuICAgIFo6IHosXG4gICAgVEFVOiB0YXUsXG4gICAgTElNSVRfU0lHTUE6IGxpbWl0U2lnbWEsXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYnVpbGRlclxuIl0sCiAgIm1hcHBpbmdzIjogIjtBQUFBLFNBQVMsT0FBQUEsWUFBVzs7O0FDQXBCLFNBQVMsV0FBVzs7O0FDRXBCLElBQU0sVUFBVSxDQUFDLFlBQXFCO0FBRXBDLFFBQU0sRUFBRSxJQUFJLEdBQUcsS0FBSyxJQUFJLHVCQUF1QixPQUFPLFVBQVUsS0FBTyxJQUFJO0FBQzNFLFFBQU0sRUFBRSxNQUFNLEtBQUssS0FBSyxRQUFRLEtBQUssR0FBRyxPQUFPLFFBQVEsR0FBRyxhQUFhLHFCQUFxQixJQUFJO0FBQ2hHLFFBQU0sU0FBUyxRQUFRO0FBRXZCLFNBQU87QUFBQSxJQUNMLE9BQU87QUFBQSxJQUNQLElBQUk7QUFBQSxJQUNKLFNBQVM7QUFBQSxJQUNULFdBQVcsSUFBSTtBQUFBLElBQ2YsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsR0FBRztBQUFBLElBQ0gsS0FBSztBQUFBLElBQ0wsYUFBYTtBQUFBLEVBQ2Y7QUFD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